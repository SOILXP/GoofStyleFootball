-- ModuleScript | decompile
-- FullName: ReplicatedStorage.Modules.RaycastHitboxV3.MainHandler

-- Decompiler will be improved VERY SOON!
-- Decompiled with Konstant V2.1, a fast Luau decompiler made in Luau by plusgiant5 (https://discord.gg/brNTY8nX8t)
-- Decompiled on 2025-09-10 13:25:54
-- Luau version 6, Types version 3
-- Time taken: 0.003634 seconds

local tbl_upvr = {}
local module_upvr = {
	add = function(arg1, arg2) -- Line 15, Named "add"
		--[[ Upvalues[1]:
			[1]: tbl_upvr (readonly)
		]]
		local var3
		if typeof(arg2) == "Instance" then
			var3 = false
		else
			var3 = true
		end
		assert(var3, "Make sure you are initializing from the Raycast module, not from this handler.")
		var3 = tbl_upvr
		table.insert(var3, arg2)
	end;
	remove = function(arg1, arg2) -- Line 20, Named "remove"
		--[[ Upvalues[1]:
			[1]: tbl_upvr (readonly)
		]]
		for i in ipairs(tbl_upvr) do
			if tbl_upvr[i].object == arg2 then
				tbl_upvr[i]:Destroy()
				setmetatable(tbl_upvr[i], nil)
				table.remove(tbl_upvr, i)
			end
		end
	end;
	check = function(arg1, arg2) -- Line 30, Named "check"
		--[[ Upvalues[1]:
			[1]: tbl_upvr (readonly)
		]]
		for _, v in ipairs(tbl_upvr) do
			if v.object == arg2 then
				return v
			end
		end
	end;
}
function OnTagRemoved(arg1) -- Line 38
	--[[ Upvalues[1]:
		[1]: module_upvr (readonly)
	]]
	module_upvr:remove(arg1)
end
game:GetService("CollectionService"):GetInstanceRemovedSignal("RaycastModuleManaged"):Connect(OnTagRemoved)
game:GetService("RunService").Heartbeat:Connect(function() -- Line 46
	--[[ Upvalues[2]:
		[1]: tbl_upvr (readonly)
		[2]: module_upvr (readonly)
	]]
	-- KONSTANTERROR: [0] 1. Error Block 38 start (CF ANALYSIS FAILED)
	local ipairs_result1, ipairs_result2_2, ipairs_result3_4 = ipairs(tbl_upvr)
	-- KONSTANTWARNING: Failed to evaluate expression, replaced with nil [5.4]
	if nil.deleted then
		-- KONSTANTERROR: Expression was reused, decompilation is incorrect
		module_upvr:remove(nil.object)
		-- KONSTANTWARNING: GOTO [5] #5
	end
	-- KONSTANTERROR: [0] 1. Error Block 38 end (CF ANALYSIS FAILED)
	-- KONSTANTERROR: [15] 12. Error Block 31 start (CF ANALYSIS FAILED)
	-- KONSTANTWARNING: Failed to evaluate expression, replaced with nil [102.6]
	for _, _ in module_upvr:remove(nil.object), nil, nil.object do
		-- KONSTANTWARNING: Failed to evaluate expression, replaced with nil [102.10]
		if not nil then
		else
			-- KONSTANTWARNING: Failed to evaluate expression, replaced with nil [102.13]
			if nil then
				-- KONSTANTWARNING: Failed to evaluate expression, replaced with nil [102.15]
				if nil then
				end
				-- KONSTANTWARNING: Failed to evaluate expression, replaced with nil [102.16]
				if nil then
				end
				-- KONSTANTWARNING: Failed to evaluate expression, replaced with nil [102.17]
				if not nil then
				end
				-- KONSTANTERROR: Expression was reused, decompilation is incorrect
				if nil then
					-- KONSTANTWARNING: Failed to evaluate expression, replaced with nil [102.18]
					if not nil then
					end
				end
			end
		end
		-- KONSTANTERROR: Expression was reused, decompilation is incorrect
	end
	-- KONSTANTERROR: [15] 12. Error Block 31 end (CF ANALYSIS FAILED)
end)
return module_upvr